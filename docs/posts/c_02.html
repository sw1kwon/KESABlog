<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="sw1kwon">
<meta name="dcterms.date" content="2025-05-24">

<title>2. 국내 승강기 보유 현황 – KESA</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-0626ff4d7a71b55c8707dcae1d04a9b6.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-3f453be5ec2ee49e579b43b94346acdb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">KESA</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">2. 국내 승강기 보유 현황</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>sw1kwon </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 24, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#국내-승강기-보유-현황" id="toc-국내-승강기-보유-현황" class="nav-link active" data-scroll-target="#국내-승강기-보유-현황">국내 승강기 보유 현황</a></li>
  <li><a href="#data-확인" id="toc-data-확인" class="nav-link" data-scroll-target="#data-확인">1. Data 확인</a>
  <ul class="collapse">
  <li><a href="#load-data" id="toc-load-data" class="nav-link" data-scroll-target="#load-data">Load Data</a></li>
  <li><a href="#데이터-구조-확인" id="toc-데이터-구조-확인" class="nav-link" data-scroll-target="#데이터-구조-확인">데이터 구조 확인</a></li>
  </ul></li>
  <li><a href="#eda" id="toc-eda" class="nav-link" data-scroll-target="#eda">2. EDA</a>
  <ul class="collapse">
  <li><a href="#결측치-각-column의-결측값-비율" id="toc-결측치-각-column의-결측값-비율" class="nav-link" data-scroll-target="#결측치-각-column의-결측값-비율">1. (결측치) 각 column의 결측값 비율</a></li>
  <li><a href="#이상치-각-column별-이상치-확인" id="toc-이상치-각-column별-이상치-확인" class="nav-link" data-scroll-target="#이상치-각-column별-이상치-확인">2. (이상치) 각 column별 이상치 확인</a>
  <ul class="collapse">
  <li><a href="#이상치가-있는-row-확인" id="toc-이상치가-있는-row-확인" class="nav-link" data-scroll-target="#이상치가-있는-row-확인">이상치가 있는 row 확인</a></li>
  </ul></li>
  <li><a href="#unique-각-column의-unique값과-unique값별-빈도" id="toc-unique-각-column의-unique값과-unique값별-빈도" class="nav-link" data-scroll-target="#unique-각-column의-unique값과-unique값별-빈도">3. (unique) 각 column의 unique값과 unique값별 빈도</a>
  <ul class="collapse">
  <li><a href="#비율이-높은-지역-확인" id="toc-비율이-높은-지역-확인" class="nav-link" data-scroll-target="#비율이-높은-지역-확인">비율이 높은 지역 확인</a></li>
  </ul></li>
  <li><a href="#기술통계-각-column의-기술통계-평균값-최대값-최솟값-최빈값-분위수-등" id="toc-기술통계-각-column의-기술통계-평균값-최대값-최솟값-최빈값-분위수-등" class="nav-link" data-scroll-target="#기술통계-각-column의-기술통계-평균값-최대값-최솟값-최빈값-분위수-등">4. (기술통계) 각 column의 기술통계 (평균값, 최대값, 최솟값, 최빈값, 분위수 등)</a></li>
  <li><a href="#상관관계-상관관계-매트릭스" id="toc-상관관계-상관관계-매트릭스" class="nav-link" data-scroll-target="#상관관계-상관관계-매트릭스">5. (상관관계) 상관관계 매트릭스</a></li>
  <li><a href="#시각화-histogram-bar-graph-box-plot-등" id="toc-시각화-histogram-bar-graph-box-plot-등" class="nav-link" data-scroll-target="#시각화-histogram-bar-graph-box-plot-등">6. (시각화) histogram, bar graph, box plot 등</a></li>
  <li><a href="#교차표-범주형-변수-간의-관계" id="toc-교차표-범주형-변수-간의-관계" class="nav-link" data-scroll-target="#교차표-범주형-변수-간의-관계">7. (교차표) 범주형 변수 간의 관계</a>
  <ul class="collapse">
  <li><a href="#함수-1" id="toc-함수-1" class="nav-link" data-scroll-target="#함수-1">함수 1</a></li>
  <li><a href="#함수-2" id="toc-함수-2" class="nav-link" data-scroll-target="#함수-2">함수 2</a></li>
  <li><a href="#함수-3" id="toc-함수-3" class="nav-link" data-scroll-target="#함수-3">함수 3</a></li>
  <li><a href="#기타-함수-추후-사용" id="toc-기타-함수-추후-사용" class="nav-link" data-scroll-target="#기타-함수-추후-사용">기타 함수 (추후 사용…?)</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#data-전처리" id="toc-data-전처리" class="nav-link" data-scroll-target="#data-전처리">3. Data 전처리</a>
  <ul class="collapse">
  <li><a href="#결측치-처리" id="toc-결측치-처리" class="nav-link" data-scroll-target="#결측치-처리">1. 결측치 처리</a></li>
  <li><a href="#이상치-처리" id="toc-이상치-처리" class="nav-link" data-scroll-target="#이상치-처리">2. 이상치 처리</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="국내-승강기-보유-현황" class="level1">
<h1>국내 승강기 보유 현황</h1>
<pre><code>한국승강기안전공단 국내 승강기 보유 현황

한국승강기안전공단에서는 승강기 관련 종합정보전산망을 구축하여 승강기에 대한 종합정보와 사고 등의 각종 이력관리 및 승강기관련 각종 통계자료를 제공하고 있습니다.

https://www.data.go.kr/data/15017366/fileData.do</code></pre>
</section>
<section id="data-확인" class="level1">
<h1>1. Data 확인</h1>
<div id="d92a5ade-20f0-4266-a465-2239122df33d" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="load-data" class="level2">
<h2 class="anchored" data-anchor-id="load-data">Load Data</h2>
<div id="196c2dec-6f33-4a6a-b27b-3032f342bc16" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://raw.githubusercontent.com/sw1kwon/KESA/refs/heads/main/data/c_02.csv"</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="84f05324-9fb9-42c9-bb9c-dabc393ef7df" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">건물명</th>
<th data-quarto-table-cell-role="th">건물층수</th>
<th data-quarto-table-cell-role="th">운행층수</th>
<th data-quarto-table-cell-role="th">승강기종류</th>
<th data-quarto-table-cell-role="th">건물용도(대)</th>
<th data-quarto-table-cell-role="th">정격속도(미터 퍼 세컨드)</th>
<th data-quarto-table-cell-role="th">대수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>강원 강릉시</td>
<td>#초당</td>
<td>4</td>
<td>4.0</td>
<td>승객용</td>
<td>제1종근린생활시설</td>
<td>1.00</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>강원 강릉시</td>
<td>(사)강릉중앙시장번영회</td>
<td>2</td>
<td>8.6</td>
<td>경사형휠체어리프트</td>
<td>제2종근린생활시설</td>
<td>0.13</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>강원 강릉시</td>
<td>(주)강릉농산물도매시장</td>
<td>2</td>
<td>3.0</td>
<td>화물용</td>
<td>판매시설</td>
<td>0.75</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>강원 강릉시</td>
<td>(주)강릉농산물도매시장</td>
<td>3</td>
<td>3.0</td>
<td>화물용</td>
<td>판매시설</td>
<td>0.75</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>강원 강릉시</td>
<td>(주)경포아쿠아리움</td>
<td>2</td>
<td>2.0</td>
<td>병원용</td>
<td>문화및집회시설</td>
<td>1.00</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="데이터-구조-확인" class="level2">
<h2 class="anchored" data-anchor-id="데이터-구조-확인">데이터 구조 확인</h2>
<div id="49a1824d-1d36-4d32-bef2-f8c48f51771a" class="cell" data-outputid="13d5330a-017a-4090-d6a7-b69de6265d2a" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>(540622, 8)</code></pre>
</div>
</div>
<div id="f8b233b4-d01e-494a-a921-3342b1b3cc62" class="cell" data-outputid="bcc5790b-7090-42f0-caa6-10de3a987301" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 데이터 구조 파악</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># object 문자형</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># int/float 수치형</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 540622 entries, 0 to 540621
Data columns (total 8 columns):
 #   Column          Non-Null Count   Dtype  
---  ------          --------------   -----  
 0   지역              540622 non-null  object 
 1   건물명             540622 non-null  object 
 2   건물층수            540622 non-null  int64  
 3   운행층수            540622 non-null  float64
 4   승강기종류           540622 non-null  object 
 5   건물용도(대)         540622 non-null  object 
 6   정격속도(미터 퍼 세컨드)  540601 non-null  float64
 7   대수              540622 non-null  int64  
dtypes: float64(2), int64(2), object(4)
memory usage: 33.0+ MB</code></pre>
</div>
</div>
<ul>
<li>정격속도(미터 퍼 세컨드)를 제외한 모든 변수에 Null 값이 없음</li>
</ul>
<div id="9affb02e-6195-4ffa-9220-dbb3262ba9f7" class="cell" data-outputid="f14b77fb-21c3-435e-a4c3-d2e834119099" data-execution_count="6">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 문자형(범주형) 데이터 확인</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>df.describe(include<span class="op">=</span>[<span class="st">'object'</span>]).T</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">unique</th>
<th data-quarto-table-cell-role="th">top</th>
<th data-quarto-table-cell-role="th">freq</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">지역</td>
<td>540622</td>
<td>252</td>
<td>서울 강남구</td>
<td>13350</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">건물명</td>
<td>540622</td>
<td>265772</td>
<td>대성빌딩</td>
<td>314</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">승강기종류</td>
<td>540622</td>
<td>35</td>
<td>승객용</td>
<td>212427</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">건물용도(대)</td>
<td>540622</td>
<td>31</td>
<td>공동주택</td>
<td>176317</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="8af2f987-e655-43f9-9e17-8150f34ef163" class="cell" data-outputid="17a02a7a-2e24-48a7-9521-b7460b29e29b" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 수치형 데이터 확인</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>df.describe(include<span class="op">=</span>[<span class="st">'int64'</span>,<span class="st">'float64'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">건물층수</th>
<th data-quarto-table-cell-role="th">운행층수</th>
<th data-quarto-table-cell-role="th">정격속도(미터 퍼 세컨드)</th>
<th data-quarto-table-cell-role="th">대수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>540622.000000</td>
<td>540622.000000</td>
<td>540601.000000</td>
<td>540622.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>7.763321</td>
<td>8.102380</td>
<td>1.133568</td>
<td>1.602769</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>7.153593</td>
<td>7.127733</td>
<td>0.473054</td>
<td>2.188103</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.003500</td>
<td>1.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>4.000000</td>
<td>4.000000</td>
<td>1.000000</td>
<td>1.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>5.000000</td>
<td>5.000000</td>
<td>1.000000</td>
<td>1.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>9.000000</td>
<td>10.000000</td>
<td>1.500000</td>
<td>1.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>340.000000</td>
<td>128.000000</td>
<td>30.000000</td>
<td>142.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="0f62cd95-efbd-4449-b6d5-8a32e12aebda" class="cell" data-outputid="17a02a7a-2e24-48a7-9521-b7460b29e29b" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># df.describe(include='number') # 동일 결과 코드</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="eda" class="level1">
<h1>2. EDA</h1>
<section id="결측치-각-column의-결측값-비율" class="level2">
<h2 class="anchored" data-anchor-id="결측치-각-column의-결측값-비율">1. (결측치) 각 column의 결측값 비율</h2>
<div id="48fad1eb-e18d-49d5-a97a-fd74ea65d152" class="cell" data-outputid="aa1b0f8b-ac1a-423f-a043-9d77bdaa5a2b" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 각 column의 결측값 비율 계산</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>missing_ratio <span class="op">=</span> df.isnull().mean()                  <span class="co"># 각 column의 결측값 비율 계산 (결측 개수 / 전체 row 수)</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>missing_ratio <span class="op">=</span> missing_ratio.sort_values(ascending<span class="op">=</span><span class="va">False</span>)  <span class="co"># 결측 비율이 높은 순서대로 정렬</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>missing_ratio <span class="op">=</span> missing_ratio.reset_index()         <span class="co"># Series → DataFrame 변환 (인덱스 초기화)</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>missing_ratio.columns <span class="op">=</span> [<span class="st">'Column'</span>, <span class="st">'MissingRatio'</span>]</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(missing_ratio)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Column  MissingRatio
0  정격속도(미터 퍼 세컨드)      0.000039
1              지역      0.000000
2            건물층수      0.000000
3             건물명      0.000000
4            운행층수      0.000000
5           승강기종류      0.000000
6         건물용도(대)      0.000000
7              대수      0.000000</code></pre>
</div>
</div>
<ul>
<li>정격속도(미터 퍼 세컨드)만 결측값이 존재하고 결측 비율도 낮음</li>
</ul>
</section>
<section id="이상치-각-column별-이상치-확인" class="level2">
<h2 class="anchored" data-anchor-id="이상치-각-column별-이상치-확인">2. (이상치) 각 column별 이상치 확인</h2>
<div id="e13618a3-3e50-479a-8379-dc7048a50cbd" class="cell" data-outputid="e5571af7-e803-41be-a308-e1000bf57ec3" data-execution_count="10">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 수치형 변수만 추출</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>numeric_cols <span class="op">=</span> df.select_dtypes(include<span class="op">=</span>[<span class="st">'float64'</span>, <span class="st">'int64'</span>]).columns</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 이상치 비율 저장용 리스트</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>outlier_info <span class="op">=</span> []</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 각 수치형 column에 대해 이상치 비율 계산 (IQR 방식)</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> numeric_cols:</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    Q1 <span class="op">=</span> df[col].quantile(<span class="fl">0.25</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    Q3 <span class="op">=</span> df[col].quantile(<span class="fl">0.75</span>)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    IQR <span class="op">=</span> Q3 <span class="op">-</span> Q1</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    lower <span class="op">=</span> Q1 <span class="op">-</span> <span class="fl">1.5</span> <span class="op">*</span> IQR</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    upper <span class="op">=</span> Q3 <span class="op">+</span> <span class="fl">1.5</span> <span class="op">*</span> IQR</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    outliers <span class="op">=</span> ((df[col] <span class="op">&lt;</span> lower) <span class="op">|</span> (df[col] <span class="op">&gt;</span> upper)).<span class="bu">sum</span>()</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    outlier_ratio <span class="op">=</span> outliers <span class="op">/</span> df.shape[<span class="dv">0</span>]</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    outlier_info.append((col, outliers, outlier_ratio))</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 결과 DataFrame 정리</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>outlier_df <span class="op">=</span> pd.DataFrame(outlier_info, columns<span class="op">=</span>[<span class="st">'Column'</span>, <span class="st">'OutlierCount'</span>, <span class="st">'OutlierRatio'</span>])</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>outlier_df <span class="op">=</span> outlier_df.sort_values(by<span class="op">=</span><span class="st">'OutlierRatio'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(outlier_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Column  OutlierCount  OutlierRatio
3              대수        119623      0.221269
0            건물층수         61067      0.112957
1            운행층수         47398      0.087673
2  정격속도(미터 퍼 세컨드)         15887      0.029387</code></pre>
</div>
</div>
<ul>
<li>모든 수치형 변수에 IQR 방식의 이상치가 존재</li>
</ul>
<div id="c2532ec1-7b1d-4869-998f-46149614e7bb" class="cell" data-outputid="487c5212-7ca8-4d73-cb9f-4f7a75b12fea" data-execution_count="11">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 이상치 비율이 높은 상위 n개 변수만 시각화</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 이상치 비율 높은 상위 n개 변수만 선택</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>top_n <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>top_outlier_cols <span class="op">=</span> outlier_df.head(top_n)[<span class="st">'Column'</span>]</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 박스플롯 시각화</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, col <span class="kw">in</span> <span class="bu">enumerate</span>(top_outlier_cols, <span class="dv">1</span>):</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    plt.subplot(<span class="dv">1</span>, top_n, i)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    sns.boxplot(y<span class="op">=</span>df[col])</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    plt.title(col)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="c_02_files/figure-html/cell-12-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>각 변수마다 이상치 중에서도 돋보이는 이상치들이 보임</li>
</ul>
<div id="1c8e5e1c-f1c6-436c-8f88-05e97f0b3f2c" class="cell" data-outputid="efb37e28-2f96-4829-b021-2089214eec9b" data-execution_count="12">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># # 개별 탐색 시 사용 가능한 함수 정의</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co"># def plot_box(col):</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">#     sns.boxplot(y=df[col])</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">#     plt.title(f"Boxplot of {col}")</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co">#     plt.show()</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co"># # 예시 사용: plot_box('Column Name')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="이상치가-있는-row-확인" class="level3">
<h3 class="anchored" data-anchor-id="이상치가-있는-row-확인">이상치가 있는 row 확인</h3>
<div id="962ee4bd-4303-4eda-835a-0126f9782966" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>df[df[<span class="st">'대수'</span>] <span class="op">&gt;</span> <span class="dv">100</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">건물명</th>
<th data-quarto-table-cell-role="th">건물층수</th>
<th data-quarto-table-cell-role="th">운행층수</th>
<th data-quarto-table-cell-role="th">승강기종류</th>
<th data-quarto-table-cell-role="th">건물용도(대)</th>
<th data-quarto-table-cell-role="th">정격속도(미터 퍼 세컨드)</th>
<th data-quarto-table-cell-role="th">대수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">258740</td>
<td>대전 유성구</td>
<td>엑스포아파트</td>
<td>17</td>
<td>17.0</td>
<td>승객용</td>
<td>공동주택</td>
<td>1.5</td>
<td>110</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">383409</td>
<td>서울 송파구</td>
<td>올림픽훼밀리타운</td>
<td>15</td>
<td>15.0</td>
<td>승객용</td>
<td>공동주택</td>
<td>1.0</td>
<td>142</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">493174</td>
<td>제주 제주시</td>
<td>라온프라이빗타운</td>
<td>7</td>
<td>7.0</td>
<td>장애인용</td>
<td>공동주택</td>
<td>1.0</td>
<td>105</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="e7a0fee1-84ca-4c98-aa5d-71222c6834e3" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df[df[<span class="st">'건물층수'</span>] <span class="op">&gt;</span> <span class="dv">200</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">건물명</th>
<th data-quarto-table-cell-role="th">건물층수</th>
<th data-quarto-table-cell-role="th">운행층수</th>
<th data-quarto-table-cell-role="th">승강기종류</th>
<th data-quarto-table-cell-role="th">건물용도(대)</th>
<th data-quarto-table-cell-role="th">정격속도(미터 퍼 세컨드)</th>
<th data-quarto-table-cell-role="th">대수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">264301</td>
<td>부산 강서구</td>
<td>명지2차 금강펜테리움 센트럴파크</td>
<td>259</td>
<td>30.0</td>
<td>소방구조/장애인용</td>
<td>공동주택</td>
<td>1.75</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">264302</td>
<td>부산 강서구</td>
<td>명지2차 금강펜테리움 센트럴파크</td>
<td>291</td>
<td>30.0</td>
<td>소방구조/장애인용</td>
<td>공동주택</td>
<td>1.75</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">283688</td>
<td>부산 사상구</td>
<td>주례반도보라매머드타운</td>
<td>235</td>
<td>23.0</td>
<td>소방구조용</td>
<td>공동주택</td>
<td>1.50</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">452506</td>
<td>인천 연수구</td>
<td>랜드마크시티센트럴더샵업무시설</td>
<td>340</td>
<td>43.0</td>
<td>피난/장애용</td>
<td>공동주택</td>
<td>3.00</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>이 경우 승강기 종류가 승객용이 아님</li>
</ul>
<div id="c4671f2b-b5f9-4941-b3e7-a3e11fdcb5a1" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>df[df[<span class="st">'운행층수'</span>].isin(df[<span class="st">'운행층수'</span>].nlargest(<span class="dv">7</span>))].sort_values(by<span class="op">=</span><span class="st">'운행층수'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">건물명</th>
<th data-quarto-table-cell-role="th">건물층수</th>
<th data-quarto-table-cell-role="th">운행층수</th>
<th data-quarto-table-cell-role="th">승강기종류</th>
<th data-quarto-table-cell-role="th">건물용도(대)</th>
<th data-quarto-table-cell-role="th">정격속도(미터 퍼 세컨드)</th>
<th data-quarto-table-cell-role="th">대수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">380493</td>
<td>서울 송파구</td>
<td>롯데월드타워 물산</td>
<td>123</td>
<td>128.0</td>
<td>소방구조용</td>
<td>업무시설</td>
<td>8.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">380492</td>
<td>서울 송파구</td>
<td>롯데월드타워 물산</td>
<td>123</td>
<td>128.0</td>
<td>소방구조용</td>
<td>업무시설</td>
<td>6.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">294853</td>
<td>부산 해운대구</td>
<td>LCT( 포디움,전망대 )</td>
<td>101</td>
<td>106.0</td>
<td>소방구조용</td>
<td>제1종근린생활시설</td>
<td>4.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">380491</td>
<td>서울 송파구</td>
<td>롯데월드타워 물산</td>
<td>123</td>
<td>106.0</td>
<td>피난용</td>
<td>업무시설</td>
<td>8.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">294883</td>
<td>부산 해운대구</td>
<td>LCT(더 레지던스)</td>
<td>101</td>
<td>106.0</td>
<td>소방구조용</td>
<td>제1종근린생활시설</td>
<td>4.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">294896</td>
<td>부산 해운대구</td>
<td>LCT(주거동)</td>
<td>85</td>
<td>90.0</td>
<td>소방구조용</td>
<td>제1종근린생활시설</td>
<td>4.0</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">297711</td>
<td>부산 해운대구</td>
<td>해운대두산위브더제니스</td>
<td>82</td>
<td>87.0</td>
<td>소방구조/장애인용</td>
<td>공동주택</td>
<td>3.5</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>이 경우도 승강기 종류가 승객용이 아님</li>
</ul>
<div id="9db7e568-149d-4be8-a9a3-8564d7ebd92f" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df[df[<span class="st">'정격속도(미터 퍼 세컨드)'</span>] <span class="op">&gt;</span> <span class="dv">15</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">건물명</th>
<th data-quarto-table-cell-role="th">건물층수</th>
<th data-quarto-table-cell-role="th">운행층수</th>
<th data-quarto-table-cell-role="th">승강기종류</th>
<th data-quarto-table-cell-role="th">건물용도(대)</th>
<th data-quarto-table-cell-role="th">정격속도(미터 퍼 세컨드)</th>
<th data-quarto-table-cell-role="th">대수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">5028</td>
<td>강원 속초시</td>
<td>카시아속초생활형숙박시설</td>
<td>5</td>
<td>2.0</td>
<td>에스컬레이터</td>
<td>숙박시설</td>
<td>30.0</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6937</td>
<td>강원 원주시</td>
<td>드림시티</td>
<td>6</td>
<td>0.0</td>
<td>에스컬레이터</td>
<td>교육연구시설</td>
<td>30.0</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>조건을 만족하는 row가 2개였음</li>
<li>승강기 종류는 모두 에스컬레이터</li>
</ul>
</section>
</section>
<section id="unique-각-column의-unique값과-unique값별-빈도" class="level2">
<h2 class="anchored" data-anchor-id="unique-각-column의-unique값과-unique값별-빈도">3. (unique) 각 column의 unique값과 unique값별 빈도</h2>
<div id="f42e24c1-a504-401e-8cc4-0713a6b1053f" class="cell" data-outputid="488461f5-bb7c-483f-d2f2-6dc9852dcb8b" data-execution_count="17">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># # 전체 column 대상 (비율을 %로, 순서 유지)</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># for col in df.columns:</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co">#     print(f"=== {col} ===")</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co">#     print("Unique count:", df[col].nunique())</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co">#     # 빈도와 비율 계산 (NaN 포함, 고유값 순서 유지)</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co">#     value_counts = df[col].value_counts(dropna=False, sort=False)</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="co">#     value_ratio = df[col].value_counts(normalize=True, dropna=False, sort=False) * 100  # 비율을 %</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co">#     # 결합</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="co">#     summary_df = pd.DataFrame({</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="co">#         'Count': value_counts,</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="co">#         'Ratio (%)': value_ratio.round(2)</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="co">#     })</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="co">#     print(summary_df)</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="co">#     print("\n")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="382230fa-1d4a-4bbc-bac0-e63f388a3b31" class="cell" data-outputid="821e6b1a-ecbe-4d37-a99f-5935572c442f" data-execution_count="18">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 범주형 변수만 대상</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>cat_cols <span class="op">=</span> df.select_dtypes(include<span class="op">=</span>[<span class="st">'object'</span>]).columns</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> cat_cols:</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"=== </span><span class="sc">{</span>col<span class="sc">}</span><span class="ss"> ==="</span>)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Unique count:"</span>, df[col].nunique())</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    value_counts <span class="op">=</span> df[col].value_counts(dropna<span class="op">=</span><span class="va">False</span>, sort<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    value_ratio <span class="op">=</span> df[col].value_counts(normalize<span class="op">=</span><span class="va">True</span>, dropna<span class="op">=</span><span class="va">False</span>, sort<span class="op">=</span><span class="va">False</span>) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    summary_df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Count'</span>: value_counts,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Ratio (%)'</span>: value_ratio.<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(summary_df)</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== 지역 ===
Unique count: 252
            Count  Ratio (%)
지역                          
강원 강릉시       2378       0.44
강원 고성군        296       0.05
강원 동해시        788       0.15
강원 삼척시        651       0.12
강원 속초시       1050       0.19
...           ...        ...
충북 청주시 상당구   1917       0.35
충북 청주시 서원구   1705       0.32
충북 청주시 청원구   2198       0.41
충북 청주시 흥덕구   3869       0.72
충북 충주시       2333       0.43

[252 rows x 2 columns]


=== 건물명 ===
Unique count: 265772
              Count  Ratio (%)
건물명                           
#초당               1        0.0
(사)강릉중앙시장번영회      1        0.0
(주)강릉농산물도매시장      2        0.0
(주)경포아쿠아리움        2        0.0
(주)대성환경건설         1        0.0
...             ...        ...
홀인원리조트            1        0.0
화정빌딩A             1        0.0
환이빌딩              1        0.0
환호빌리지             1        0.0
휴먼시아7단지아파트        3        0.0

[265772 rows x 2 columns]


=== 승강기종류 ===
Unique count: 35
               Count  Ratio (%)
승강기종류                          
승객용           212427      39.29
경사형휠체어리프트       1188       0.22
화물용            19080       3.53
병원용             5786       1.07
화물용(DW)         2197       0.41
전망용             5060       0.94
덤웨이터            6382       1.18
장애인용          159760      29.55
자동차용           10725       1.98
무빙워크            1848       0.34
장애/승객화물용        6941       1.28
소방구조/장애인용      49531       9.16
승객화물용           6448       1.19
장애/병원용          5727       1.06
장애/전망용          9726       1.80
수직형휠체어리프트       3232       0.60
소방구조/장애/승객화물    6696       1.24
화물/자동차용          291       0.05
소방구조용          13201       2.44
에스컬레이터         11290       2.09
소방구조/병원용         176       0.03
소방구조/승객화물용      1060       0.20
주택엘리베이터          847       0.16
피난용               81       0.01
전망/병원용            95       0.02
소방구조/장애/병원용       97       0.02
장애/승객화물/전망용        4       0.00
장애/전망/병원용        117       0.02
승객용(장애인겸용)        10       0.00
피난/장애용           544       0.10
피난/장애/승객화물용       34       0.01
소방구조/장애/전망용       16       0.00
피난/장애/병원용          1       0.00
피난/승객화물용           3       0.00
소방구조/전망용           1       0.00


=== 건물용도(대) ===
Unique count: 31
             Count  Ratio (%)
건물용도(대)                      
제1종근린생활시설    42973       7.95
제2종근린생활시설    81014      14.99
판매시설         13058       2.42
문화및집회시설       8140       1.51
공장           28510       5.27
업무시설         38310       7.09
숙박시설         18663       3.45
교육연구시설       34383       6.36
단독주택         49829       9.22
창고시설          3581       0.66
방송통신시설         459       0.08
공동주택        176317      32.61
노유자시설         7509       1.39
의료시설         11073       2.05
종교시설          8182       1.51
관광휴게시설         654       0.12
운동시설          3324       0.61
자원순환관련시설       481       0.09
수련시설           538       0.10
운수시설          6860       1.27
교정및군사시설        704       0.13
발전시설           571       0.11
자동차관련시설       3782       0.70
위험물저장및처리시설     200       0.04
묘지관련시설         330       0.06
위락시설           409       0.08
동식물관련시설        147       0.03
야영장시설            7       0.00
기타             288       0.05
장례시설           208       0.04
가설건축물          118       0.02

</code></pre>
</div>
</div>
<ul>
<li>승강기의 종류는 승객용과 장애인용이 대부분</li>
</ul>
<section id="비율이-높은-지역-확인" class="level3">
<h3 class="anchored" data-anchor-id="비율이-높은-지역-확인">비율이 높은 지역 확인</h3>
<div id="36d1c4e9-067d-40ad-889d-ad916fa02c3f" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> summarize_category(df, column, top_n<span class="op">=</span><span class="va">None</span>, include_na<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co">    범주형 변수 요약 (건수 + 비율)</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters:</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co">    - df: DataFrame</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co">    - column: 분석할 열 이름 (문자열)</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co">    - top_n: 상위 n개만 출력 (None이면 전체)</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co">    - include_na: NaN 포함 여부</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="co">    - summary DataFrame</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    counts <span class="op">=</span> df[column].value_counts(dropna<span class="op">=</span>include_na)</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    ratios <span class="op">=</span> df[column].value_counts(normalize<span class="op">=</span><span class="va">True</span>, dropna<span class="op">=</span>include_na).mul(<span class="dv">100</span>).<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>    summary <span class="op">=</span> pd.DataFrame({</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">'건수'</span>: counts,</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">'비율(%)'</span>: ratios</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>    }).reset_index().rename(columns<span class="op">=</span>{<span class="st">'index'</span>: column})</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> top_n <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>        summary <span class="op">=</span> summary.head(top_n)</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c7531a4e-5bbb-4356-ac7f-1e2f0ab803a1" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>summarize_category(df, <span class="st">'지역'</span>, top_n<span class="op">=</span><span class="dv">10</span>) <span class="co"># 지역의 NaN은 없음</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">건수</th>
<th data-quarto-table-cell-role="th">비율(%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>서울 강남구</td>
<td>13350</td>
<td>2.47</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>경기 화성시</td>
<td>11069</td>
<td>2.05</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>경기 평택시</td>
<td>9805</td>
<td>1.81</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울 서초구</td>
<td>8127</td>
<td>1.50</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>제주 제주시</td>
<td>7314</td>
<td>1.35</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>서울 송파구</td>
<td>7002</td>
<td>1.30</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>서울 강서구</td>
<td>6482</td>
<td>1.20</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>경기 남양주시</td>
<td>6324</td>
<td>1.17</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>인천 서구</td>
<td>5811</td>
<td>1.07</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>대전 유성구</td>
<td>5700</td>
<td>1.05</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>추후 활용 가능성..</li>
</ul>
</section>
</section>
<section id="기술통계-각-column의-기술통계-평균값-최대값-최솟값-최빈값-분위수-등" class="level2">
<h2 class="anchored" data-anchor-id="기술통계-각-column의-기술통계-평균값-최대값-최솟값-최빈값-분위수-등">4. (기술통계) 각 column의 기술통계 (평균값, 최대값, 최솟값, 최빈값, 분위수 등)</h2>
<div id="9d1d6d27-66d0-450b-9f2d-954028534f27" class="cell" data-outputid="6cd41cab-3460-42c9-9045-4ddf8dc01d96" data-execution_count="21">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 수치형 변수만 선택</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>numeric_cols <span class="op">=</span> df.select_dtypes(include<span class="op">=</span>[<span class="st">'float64'</span>, <span class="st">'int64'</span>]).columns</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 통계 요약 저장용 리스트</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>stat_list <span class="op">=</span> []</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> numeric_cols:</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    desc <span class="op">=</span> df[col].describe()</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    mode <span class="op">=</span> df[col].mode(dropna<span class="op">=</span><span class="va">False</span>).values[<span class="dv">0</span>]  <span class="co"># 최빈값 (여러 개 중 첫 번째 선택)</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    mode_all <span class="op">=</span> df[col].mode(dropna<span class="op">=</span><span class="va">False</span>).tolist()  <span class="co"># 최빈값 리스트 형태로 저장</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    stat_list.append({</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Feature'</span>: col,</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Count'</span>: desc[<span class="st">'count'</span>],</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Mean'</span>: desc[<span class="st">'mean'</span>],</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Std'</span>: desc[<span class="st">'std'</span>],</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Min'</span>: desc[<span class="st">'min'</span>],</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">'25%'</span>: desc[<span class="st">'25%'</span>],</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Median (50%)'</span>: desc[<span class="st">'50%'</span>],</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">'75%'</span>: desc[<span class="st">'75%'</span>],</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Max'</span>: desc[<span class="st">'max'</span>],</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Mode'</span>: mode,</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Mode_all'</span>: mode_all</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a><span class="co"># DataFrame으로 정리</span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>stats_df <span class="op">=</span> pd.DataFrame(stat_list)</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>stats_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Feature</th>
<th data-quarto-table-cell-role="th">Count</th>
<th data-quarto-table-cell-role="th">Mean</th>
<th data-quarto-table-cell-role="th">Std</th>
<th data-quarto-table-cell-role="th">Min</th>
<th data-quarto-table-cell-role="th">25%</th>
<th data-quarto-table-cell-role="th">Median (50%)</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">Max</th>
<th data-quarto-table-cell-role="th">Mode</th>
<th data-quarto-table-cell-role="th">Mode_all</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>건물층수</td>
<td>540622.0</td>
<td>7.763321</td>
<td>7.153593</td>
<td>0.0000</td>
<td>4.0</td>
<td>5.0</td>
<td>9.0</td>
<td>340.0</td>
<td>4.0</td>
<td>[4]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>운행층수</td>
<td>540622.0</td>
<td>8.102380</td>
<td>7.127733</td>
<td>0.0000</td>
<td>4.0</td>
<td>5.0</td>
<td>10.0</td>
<td>128.0</td>
<td>4.0</td>
<td>[4.0]</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>정격속도(미터 퍼 세컨드)</td>
<td>540601.0</td>
<td>1.133568</td>
<td>0.473054</td>
<td>0.0035</td>
<td>1.0</td>
<td>1.0</td>
<td>1.5</td>
<td>30.0</td>
<td>1.0</td>
<td>[1.0]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>대수</td>
<td>540622.0</td>
<td>1.602769</td>
<td>2.188103</td>
<td>1.0000</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>142.0</td>
<td>1.0</td>
<td>[1]</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="상관관계-상관관계-매트릭스" class="level2">
<h2 class="anchored" data-anchor-id="상관관계-상관관계-매트릭스">5. (상관관계) 상관관계 매트릭스</h2>
<div id="eb49a93b-377f-4317-9666-0fc02be7e402" class="cell" data-outputid="572fce2a-69b0-474e-ec65-eff644efa171" data-execution_count="22">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 수치형 변수 간 상관관계 매트릭스</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 수치형 변수만 선택</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>numeric_df <span class="op">=</span> df.select_dtypes(include<span class="op">=</span>[<span class="st">'float64'</span>, <span class="st">'int64'</span>])</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 상관계수 계산</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>corr_matrix <span class="op">=</span> numeric_df.corr()</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 시각화</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">8</span>))</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>sns.heatmap(corr_matrix, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">'coolwarm'</span>, fmt<span class="op">=</span><span class="st">".2f"</span>, square<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Numeric Feature Correlation Matrix"</span>)</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="c_02_files/figure-html/cell-23-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>전부 양의 상관관계를 보임</li>
<li>대수는 다른 변수들과 상관관계가 약한 편</li>
</ul>
</section>
<section id="시각화-histogram-bar-graph-box-plot-등" class="level2">
<h2 class="anchored" data-anchor-id="시각화-histogram-bar-graph-box-plot-등">6. (시각화) histogram, bar graph, box plot 등</h2>
<div id="fce1baa2-2f32-4156-8c8f-31e6b94200ef" class="cell" data-outputid="4de986e2-c4df-4e94-b9ec-64d758e47a34" data-execution_count="23">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>numeric_cols <span class="op">=</span> df.select_dtypes(include<span class="op">=</span>[<span class="st">'float64'</span>, <span class="st">'int64'</span>]).columns</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 전체 수치형 변수에 대해 히스토그램 그리기</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> numeric_cols:</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">4</span>))</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    plt.hist(df[col].dropna(), bins<span class="op">=</span><span class="dv">30</span>, edgecolor<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="ss">f'Histogram of </span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(col)</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="c_02_files/figure-html/cell-24-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="c_02_files/figure-html/cell-24-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="c_02_files/figure-html/cell-24-output-3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="c_02_files/figure-html/cell-24-output-4.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>bins를 증가시키면</li>
</ul>
<div id="cdd0ad63-3b54-44e0-b67f-9349241064db" class="cell" data-outputid="4de986e2-c4df-4e94-b9ec-64d758e47a34" data-execution_count="24">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>numeric_cols <span class="op">=</span> df.select_dtypes(include<span class="op">=</span>[<span class="st">'float64'</span>, <span class="st">'int64'</span>]).columns</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 전체 수치형 변수에 대해 히스토그램 그리기</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> numeric_cols:</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">4</span>))</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    plt.hist(df[col].dropna(), bins<span class="op">=</span><span class="dv">60</span>, edgecolor<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="ss">f'Histogram of </span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(col)</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    plt.ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="c_02_files/figure-html/cell-25-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="c_02_files/figure-html/cell-25-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="c_02_files/figure-html/cell-25-output-3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="c_02_files/figure-html/cell-25-output-4.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="ccec7a47-53e8-4fb1-adc3-350e3a6b0058" class="cell" data-outputid="c05bdd47-5a30-4b1b-d4f6-e8400315b95f" data-execution_count="25">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import seaborn as sns</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co"># import matplotlib.pyplot as plt</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># cat_cols = df.select_dtypes(include=['object']).columns</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="co"># # 전체 범주형 변수에 대해 히스토그램 그리기</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co"># for col in cat_cols:</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co">#     plt.figure(figsize=(6, 4))</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="co">#     ax = sns.countplot(data=df, x=col, order=df[col].value_counts().index, color='salmon')</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="co">#     total = len(df)</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="co">#     for p in ax.patches:</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a><span class="co">#         count = int(p.get_height())</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="co">#         percent = 100 * count / total</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="co">#         label = f'{count} ({percent:.1f}%)'</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a><span class="co">#         # 텍스트 위치: 막대 안쪽 상단 (중앙 정렬)</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a><span class="co">#         ax.annotate(label,</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a><span class="co">#                     (p.get_x() + p.get_width() / 2., p.get_height() * 0.95),</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a><span class="co">#                     ha='center', va='top',</span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a><span class="co">#                     fontsize=9, color='white', weight='bold')</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a><span class="co">#     plt.title(f'Bar Graph of {col} (Count + Ratio)')</span></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a><span class="co">#     plt.xticks(rotation=45)</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a><span class="co">#     plt.tight_layout()</span></span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a><span class="co">#     plt.show()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>의미가 없어서 실행 X (시간도 오래 걸림)</li>
</ul>
<div id="795c4502-3a87-4657-a379-f118d16228a2" class="cell" data-outputid="83e961f8-dea6-4630-9707-b62d4eea0a7d" data-execution_count="26">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># # 특정 변수에 따른 수치형 변수 분포 비교</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co"># for col in numeric_cols:</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="co">#     plt.figure(figsize=(6, 4))</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co">#     sns.boxplot(data=df, x='###Column Name###', y=col)</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="co">#     plt.title(f'Boxplot of {col} by ###Column Name###')</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="co">#     plt.tight_layout()</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="co">#     plt.show()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>의미가 없어서 실행 X</li>
</ul>
<div id="4e3e1ae3-2e1f-42c1-a58d-73f99152f167" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 특정 변수 중 특정 값들에 따른 수치형 변수들 분포 비교</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 파라미터 설정</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>group_col <span class="op">=</span> <span class="st">'지역'</span>  <span class="co"># 비교할 범주형 변수</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>target_values <span class="op">=</span> [<span class="st">'서울 강남구'</span>, <span class="st">'경기 화성시'</span>, <span class="st">'경기 평택시'</span>, <span class="st">'서울 서초구'</span>, <span class="st">'제주 제주시'</span>]  <span class="co"># 특정 값들</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>numeric_cols <span class="op">=</span> [<span class="st">'건물층수'</span>, <span class="st">'운행층수'</span>, <span class="st">'정격속도(미터 퍼 세컨드)'</span>, <span class="st">'대수'</span>]  <span class="co"># 수치형 변수 목록</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 필터링된 데이터프레임</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>filtered_df <span class="op">=</span> df[df[group_col].isin(target_values)]</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 반복해서 boxplot 그리기</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> numeric_cols:</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">4</span>))</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>    sns.boxplot(data<span class="op">=</span>filtered_df, x<span class="op">=</span>group_col, y<span class="op">=</span>col)</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="ss">f'Boxplot of </span><span class="sc">{</span>col<span class="sc">}</span><span class="ss"> by </span><span class="sc">{</span>group_col<span class="sc">}</span><span class="ss"> (</span><span class="sc">{</span><span class="st">", "</span><span class="sc">.</span>join(target_values)<span class="sc">}</span><span class="ss">)'</span>)</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="c_02_files/figure-html/cell-28-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="c_02_files/figure-html/cell-28-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="c_02_files/figure-html/cell-28-output-3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="c_02_files/figure-html/cell-28-output-4.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="교차표-범주형-변수-간의-관계" class="level2">
<h2 class="anchored" data-anchor-id="교차표-범주형-변수-간의-관계">7. (교차표) 범주형 변수 간의 관계</h2>
<div id="61e4201a-ba77-4d1e-89b0-c596f8fdd41e" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># '지역'에 따른 '승강기종류' 비율</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"=== 지역 vs 승강기종류 ==="</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>ratio <span class="op">=</span> df.groupby(<span class="st">'지역'</span>)[<span class="st">'승강기종류'</span>].value_counts(normalize<span class="op">=</span><span class="va">True</span>).unstack()</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>ratio.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== 지역 vs 승강기종류 ===</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="33">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">승강기종류</th>
<th data-quarto-table-cell-role="th">경사형휠체어리프트</th>
<th data-quarto-table-cell-role="th">덤웨이터</th>
<th data-quarto-table-cell-role="th">무빙워크</th>
<th data-quarto-table-cell-role="th">병원용</th>
<th data-quarto-table-cell-role="th">소방구조/병원용</th>
<th data-quarto-table-cell-role="th">소방구조/승객화물용</th>
<th data-quarto-table-cell-role="th">소방구조/장애/병원용</th>
<th data-quarto-table-cell-role="th">소방구조/장애/승객화물</th>
<th data-quarto-table-cell-role="th">소방구조/장애/전망용</th>
<th data-quarto-table-cell-role="th">소방구조/장애인용</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">전망용</th>
<th data-quarto-table-cell-role="th">주택엘리베이터</th>
<th data-quarto-table-cell-role="th">피난/승객화물용</th>
<th data-quarto-table-cell-role="th">피난/장애/병원용</th>
<th data-quarto-table-cell-role="th">피난/장애/승객화물용</th>
<th data-quarto-table-cell-role="th">피난/장애용</th>
<th data-quarto-table-cell-role="th">피난용</th>
<th data-quarto-table-cell-role="th">화물/자동차용</th>
<th data-quarto-table-cell-role="th">화물용</th>
<th data-quarto-table-cell-role="th">화물용(DW)</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">강원 강릉시</td>
<td>0.003364</td>
<td>0.010513</td>
<td>0.004205</td>
<td>0.013877</td>
<td>0.000421</td>
<td>0.000421</td>
<td>NaN</td>
<td>0.002103</td>
<td>NaN</td>
<td>0.065601</td>
<td>...</td>
<td>0.014718</td>
<td>0.013457</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.000421</td>
<td>0.029016</td>
<td>0.003364</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">강원 고성군</td>
<td>0.003378</td>
<td>0.020270</td>
<td>0.003378</td>
<td>0.010135</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.010135</td>
<td>NaN</td>
<td>0.064189</td>
<td>...</td>
<td>0.050676</td>
<td>0.003378</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.030405</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">강원 동해시</td>
<td>0.001269</td>
<td>0.013959</td>
<td>0.006345</td>
<td>0.020305</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.002538</td>
<td>NaN</td>
<td>0.144670</td>
<td>...</td>
<td>0.019036</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.001269</td>
<td>NaN</td>
<td>0.032995</td>
<td>0.002538</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">강원 삼척시</td>
<td>0.006144</td>
<td>0.019969</td>
<td>0.006144</td>
<td>0.006144</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.099846</td>
<td>...</td>
<td>0.021505</td>
<td>0.001536</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.015361</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">강원 속초시</td>
<td>NaN</td>
<td>0.012381</td>
<td>0.004762</td>
<td>0.012381</td>
<td>NaN</td>
<td>0.001905</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.110476</td>
<td>...</td>
<td>0.030476</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.011429</td>
<td>0.000952</td>
</tr>
</tbody>
</table>

<p>5 rows × 35 columns</p>
</div>
</div>
</div>
<div id="003e5ae3-98af-4d8d-8c36-20aa94722344" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pd.crosstab(df['지역'], df['승강기종류'], normalize='index')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="함수-1" class="level3">
<h3 class="anchored" data-anchor-id="함수-1">함수 1</h3>
<div id="f108dd3e-e770-4ce7-8390-42b4cc35d6ef" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> grouped_ratio_table(df, group_col, target_col, normalize<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co">    group_col 기준으로 target_col의 비율(또는 건수)을 cross-tab 형태로 반환</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters:</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="co">    - df: DataFrame</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="co">    - group_col: 그룹 기준 변수 (ex: '지역')</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="co">    - target_col: 비율을 계산할 대상 변수 (ex: '승강기종류')</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="co">    - normalize: True면 비율, False면 건수</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="co">    - DataFrame: 행 = group_col, 열 = target_col</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>    grouped <span class="op">=</span> (</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>        df.groupby(group_col)[target_col]</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>        .value_counts(normalize<span class="op">=</span>normalize)</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>        .unstack()</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> grouped</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c308f91c-3a57-409e-8e01-2a6fa3952932" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 비율 사용 예시</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"=== 지역 vs 승강기종류 비율 ==="</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>grouped_ratio_table(df, <span class="st">'지역'</span>, <span class="st">'승강기종류'</span>).head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== 지역 vs 승강기종류 비율 ===</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="39">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">승강기종류</th>
<th data-quarto-table-cell-role="th">경사형휠체어리프트</th>
<th data-quarto-table-cell-role="th">덤웨이터</th>
<th data-quarto-table-cell-role="th">무빙워크</th>
<th data-quarto-table-cell-role="th">병원용</th>
<th data-quarto-table-cell-role="th">소방구조/병원용</th>
<th data-quarto-table-cell-role="th">소방구조/승객화물용</th>
<th data-quarto-table-cell-role="th">소방구조/장애/병원용</th>
<th data-quarto-table-cell-role="th">소방구조/장애/승객화물</th>
<th data-quarto-table-cell-role="th">소방구조/장애/전망용</th>
<th data-quarto-table-cell-role="th">소방구조/장애인용</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">전망용</th>
<th data-quarto-table-cell-role="th">주택엘리베이터</th>
<th data-quarto-table-cell-role="th">피난/승객화물용</th>
<th data-quarto-table-cell-role="th">피난/장애/병원용</th>
<th data-quarto-table-cell-role="th">피난/장애/승객화물용</th>
<th data-quarto-table-cell-role="th">피난/장애용</th>
<th data-quarto-table-cell-role="th">피난용</th>
<th data-quarto-table-cell-role="th">화물/자동차용</th>
<th data-quarto-table-cell-role="th">화물용</th>
<th data-quarto-table-cell-role="th">화물용(DW)</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">강원 강릉시</td>
<td>0.003364</td>
<td>0.010513</td>
<td>0.004205</td>
<td>0.013877</td>
<td>0.000421</td>
<td>0.000421</td>
<td>NaN</td>
<td>0.002103</td>
<td>NaN</td>
<td>0.065601</td>
<td>...</td>
<td>0.014718</td>
<td>0.013457</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.000421</td>
<td>0.029016</td>
<td>0.003364</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">강원 고성군</td>
<td>0.003378</td>
<td>0.020270</td>
<td>0.003378</td>
<td>0.010135</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.010135</td>
<td>NaN</td>
<td>0.064189</td>
<td>...</td>
<td>0.050676</td>
<td>0.003378</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.030405</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">강원 동해시</td>
<td>0.001269</td>
<td>0.013959</td>
<td>0.006345</td>
<td>0.020305</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.002538</td>
<td>NaN</td>
<td>0.144670</td>
<td>...</td>
<td>0.019036</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.001269</td>
<td>NaN</td>
<td>0.032995</td>
<td>0.002538</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">강원 삼척시</td>
<td>0.006144</td>
<td>0.019969</td>
<td>0.006144</td>
<td>0.006144</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.099846</td>
<td>...</td>
<td>0.021505</td>
<td>0.001536</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.015361</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">강원 속초시</td>
<td>NaN</td>
<td>0.012381</td>
<td>0.004762</td>
<td>0.012381</td>
<td>NaN</td>
<td>0.001905</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.110476</td>
<td>...</td>
<td>0.030476</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.011429</td>
<td>0.000952</td>
</tr>
</tbody>
</table>

<p>5 rows × 35 columns</p>
</div>
</div>
</div>
<div id="572c2fdf-46ec-46fc-a7ee-5896facc18fd" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 건수 사용 예시</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"=== 지역 vs 승강기종류 건수 ==="</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>grouped_ratio_table(df, <span class="st">'지역'</span>, <span class="st">'승강기종류'</span>, normalize<span class="op">=</span><span class="va">False</span>).head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== 지역 vs 승강기종류 건수 ===</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="40">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">승강기종류</th>
<th data-quarto-table-cell-role="th">경사형휠체어리프트</th>
<th data-quarto-table-cell-role="th">덤웨이터</th>
<th data-quarto-table-cell-role="th">무빙워크</th>
<th data-quarto-table-cell-role="th">병원용</th>
<th data-quarto-table-cell-role="th">소방구조/병원용</th>
<th data-quarto-table-cell-role="th">소방구조/승객화물용</th>
<th data-quarto-table-cell-role="th">소방구조/장애/병원용</th>
<th data-quarto-table-cell-role="th">소방구조/장애/승객화물</th>
<th data-quarto-table-cell-role="th">소방구조/장애/전망용</th>
<th data-quarto-table-cell-role="th">소방구조/장애인용</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">전망용</th>
<th data-quarto-table-cell-role="th">주택엘리베이터</th>
<th data-quarto-table-cell-role="th">피난/승객화물용</th>
<th data-quarto-table-cell-role="th">피난/장애/병원용</th>
<th data-quarto-table-cell-role="th">피난/장애/승객화물용</th>
<th data-quarto-table-cell-role="th">피난/장애용</th>
<th data-quarto-table-cell-role="th">피난용</th>
<th data-quarto-table-cell-role="th">화물/자동차용</th>
<th data-quarto-table-cell-role="th">화물용</th>
<th data-quarto-table-cell-role="th">화물용(DW)</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">강원 강릉시</td>
<td>8.0</td>
<td>25.0</td>
<td>10.0</td>
<td>33.0</td>
<td>1.0</td>
<td>1.0</td>
<td>NaN</td>
<td>5.0</td>
<td>NaN</td>
<td>156.0</td>
<td>...</td>
<td>35.0</td>
<td>32.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1.0</td>
<td>69.0</td>
<td>8.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">강원 고성군</td>
<td>1.0</td>
<td>6.0</td>
<td>1.0</td>
<td>3.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>3.0</td>
<td>NaN</td>
<td>19.0</td>
<td>...</td>
<td>15.0</td>
<td>1.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>9.0</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">강원 동해시</td>
<td>1.0</td>
<td>11.0</td>
<td>5.0</td>
<td>16.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>2.0</td>
<td>NaN</td>
<td>114.0</td>
<td>...</td>
<td>15.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1.0</td>
<td>NaN</td>
<td>26.0</td>
<td>2.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">강원 삼척시</td>
<td>4.0</td>
<td>13.0</td>
<td>4.0</td>
<td>4.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>65.0</td>
<td>...</td>
<td>14.0</td>
<td>1.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>10.0</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">강원 속초시</td>
<td>NaN</td>
<td>13.0</td>
<td>5.0</td>
<td>13.0</td>
<td>NaN</td>
<td>2.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>116.0</td>
<td>...</td>
<td>32.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>12.0</td>
<td>1.0</td>
</tr>
</tbody>
</table>

<p>5 rows × 35 columns</p>
</div>
</div>
</div>
</section>
<section id="함수-2" class="level3">
<h3 class="anchored" data-anchor-id="함수-2">함수 2</h3>
<div id="def998e7-13fe-4777-a6b9-efeeb505dfe8" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> filter_crosstab(df, group_col, target_col,</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>                    row_values<span class="op">=</span><span class="va">None</span>, col_values<span class="op">=</span><span class="va">None</span>,</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>                    normalize<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co">    전체 교차표 생성 후, 특정 행(row)/열(column)만 필터링</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters:</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="co">    - df: 전체 DataFrame</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="co">    - group_col: 행 기준 (예: '지역')</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="co">    - target_col: 열 기준 (예: '승강기종류')</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="co">    - row_values: group_col 중 보고 싶은 값 리스트</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a><span class="co">    - col_values: target_col 중 보고 싶은 값 리스트</span></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="co">    - normalize: True면 비율, False면 건수</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a><span class="co">    - 필터된 교차표 DataFrame</span></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>    table <span class="op">=</span> df.groupby(group_col)[target_col].value_counts(normalize<span class="op">=</span>normalize).unstack()</span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row_values <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>        table <span class="op">=</span> table.loc[table.index.intersection(row_values)]</span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> col_values <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>        table <span class="op">=</span> table.loc[:, table.columns.intersection(col_values)]</span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="af7dd63b-2293-429e-b752-eb12750095c0" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 비율 사용 예시</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>filter_crosstab(df,</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>                group_col<span class="op">=</span><span class="st">'지역'</span>,</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>                target_col<span class="op">=</span><span class="st">'승강기종류'</span>,</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>                row_values<span class="op">=</span>[<span class="st">'서울 강남구'</span>, <span class="st">'경기 화성시'</span>, <span class="st">'경기 평택시'</span>, <span class="st">'서울 서초구'</span>, <span class="st">'제주 제주시'</span>],</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>                col_values<span class="op">=</span>[<span class="st">'승객용'</span>, <span class="st">'장애인용'</span>],</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>                normalize<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">승강기종류</th>
<th data-quarto-table-cell-role="th">승객용</th>
<th data-quarto-table-cell-role="th">장애인용</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">경기 평택시</td>
<td>0.489138</td>
<td>0.265783</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">경기 화성시</td>
<td>0.322071</td>
<td>0.282320</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">서울 강남구</td>
<td>0.467715</td>
<td>0.255955</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">서울 서초구</td>
<td>0.457364</td>
<td>0.260859</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">제주 제주시</td>
<td>0.427400</td>
<td>0.421247</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="316a5c58-6f08-419c-83e3-86a994311277" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 건수 사용 예시</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>filter_crosstab(df,</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>                group_col<span class="op">=</span><span class="st">'지역'</span>,</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>                target_col<span class="op">=</span><span class="st">'승강기종류'</span>,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>                row_values<span class="op">=</span>[<span class="st">'서울 강남구'</span>, <span class="st">'경기 화성시'</span>, <span class="st">'경기 평택시'</span>, <span class="st">'서울 서초구'</span>, <span class="st">'제주 제주시'</span>],</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>                col_values<span class="op">=</span>[<span class="st">'승객용'</span>, <span class="st">'장애인용'</span>],</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>                normalize<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">승강기종류</th>
<th data-quarto-table-cell-role="th">승객용</th>
<th data-quarto-table-cell-role="th">장애인용</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">경기 평택시</td>
<td>4796.0</td>
<td>2606.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">경기 화성시</td>
<td>3565.0</td>
<td>3125.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">서울 강남구</td>
<td>6244.0</td>
<td>3417.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">서울 서초구</td>
<td>3717.0</td>
<td>2120.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">제주 제주시</td>
<td>3126.0</td>
<td>3081.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="함수-3" class="level3">
<h3 class="anchored" data-anchor-id="함수-3">함수 3</h3>
<div id="3e541c1a-676b-407a-a89a-3f5312766994" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> merged_ratio_count_table(df, group_col, target_col,</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>                              row_values<span class="op">=</span><span class="va">None</span>, col_values<span class="op">=</span><span class="va">None</span>,</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>                              sort_mode<span class="op">=</span><span class="st">'suffix-first'</span>,</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>                              order<span class="op">=</span>[<span class="st">'비율'</span>, <span class="st">'건수'</span>]):</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co">    비율 교차표와 건수 교차표를 병합하고 선택한 행/열만 필터링, 열 순서 정렬까지 하나의 함수로 처리</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters:</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a><span class="co">    - df: DataFrame</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="co">    - group_col: 행 기준 변수 (예: '지역')</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a><span class="co">    - target_col: 열 기준 변수 (예: '승강기종류')</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a><span class="co">    - row_values: 선택할 행 인덱스 (None이면 전체)</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a><span class="co">    - col_values: 선택할 열 값 (None이면 전체)</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a><span class="co">    - sort_mode: 열 정렬 방식 - 'suffix-first' 또는 'prefix-first'</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a><span class="co">        - 'suffix-first': 항목별로 비율 → 건수 순서로 정렬  </span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a><span class="co">          예: ['승객용_비율', '승객용_건수', '화물용_비율', '화물용_건수']</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a><span class="co">        - 'prefix-first': 비율 열들을 모두 먼저, 그다음 건수 열들을 정렬  </span></span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a><span class="co">          예: ['승객용_비율', '화물용_비율', '승객용_건수', '화물용_건수']</span></span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a><span class="co">    - order: 접미사 순서 지정 (허용된 값만 가능: ['비율', '건수'] 또는 ['건수', '비율'])</span></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a><span class="co">    - 병합된 정렬된 교차표 DataFrame</span></span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>    <span class="im">from</span> collections <span class="im">import</span> defaultdict</span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># === Step 0. order 유효성 검사 ===</span></span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">set</span>(order) <span class="op">!=</span> {<span class="st">'비율'</span>, <span class="st">'건수'</span>} <span class="kw">or</span> <span class="bu">len</span>(order) <span class="op">!=</span> <span class="dv">2</span>:</span>
<span id="cb45-29"><a href="#cb45-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"order must be exactly ['비율', '건수'] or ['건수', '비율']"</span>)</span>
<span id="cb45-30"><a href="#cb45-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-31"><a href="#cb45-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># === Step 1. 전체 교차표 생성 (비율, 건수) ===</span></span>
<span id="cb45-32"><a href="#cb45-32" aria-hidden="true" tabindex="-1"></a>    ratio <span class="op">=</span> df.groupby(group_col)[target_col].value_counts(normalize<span class="op">=</span><span class="va">True</span>).unstack()</span>
<span id="cb45-33"><a href="#cb45-33" aria-hidden="true" tabindex="-1"></a>    count <span class="op">=</span> df.groupby(group_col)[target_col].value_counts(normalize<span class="op">=</span><span class="va">False</span>).unstack()</span>
<span id="cb45-34"><a href="#cb45-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-35"><a href="#cb45-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># === Step 2. 열 필터링 ===</span></span>
<span id="cb45-36"><a href="#cb45-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> col_values <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb45-37"><a href="#cb45-37" aria-hidden="true" tabindex="-1"></a>        ratio <span class="op">=</span> ratio.loc[:, ratio.columns.intersection(col_values)]</span>
<span id="cb45-38"><a href="#cb45-38" aria-hidden="true" tabindex="-1"></a>        count <span class="op">=</span> count.loc[:, count.columns.intersection(col_values)]</span>
<span id="cb45-39"><a href="#cb45-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-40"><a href="#cb45-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># === Step 3. 열 이름 변경 ===</span></span>
<span id="cb45-41"><a href="#cb45-41" aria-hidden="true" tabindex="-1"></a>    ratio.columns <span class="op">=</span> [<span class="ss">f"</span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">_비율"</span> <span class="cf">for</span> col <span class="kw">in</span> ratio.columns]</span>
<span id="cb45-42"><a href="#cb45-42" aria-hidden="true" tabindex="-1"></a>    count.columns <span class="op">=</span> [<span class="ss">f"</span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">_건수"</span> <span class="cf">for</span> col <span class="kw">in</span> count.columns]</span>
<span id="cb45-43"><a href="#cb45-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-44"><a href="#cb45-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># === Step 4. 병합 ===</span></span>
<span id="cb45-45"><a href="#cb45-45" aria-hidden="true" tabindex="-1"></a>    merged <span class="op">=</span> pd.concat([ratio, count], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb45-46"><a href="#cb45-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-47"><a href="#cb45-47" aria-hidden="true" tabindex="-1"></a>    <span class="co"># === Step 5. 열 순서 재정렬 ===</span></span>
<span id="cb45-48"><a href="#cb45-48" aria-hidden="true" tabindex="-1"></a>    prefix_groups <span class="op">=</span> defaultdict(<span class="bu">dict</span>)</span>
<span id="cb45-49"><a href="#cb45-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col <span class="kw">in</span> merged.columns:</span>
<span id="cb45-50"><a href="#cb45-50" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="st">'_'</span> <span class="kw">in</span> col:</span>
<span id="cb45-51"><a href="#cb45-51" aria-hidden="true" tabindex="-1"></a>            prefix, suffix <span class="op">=</span> col.rsplit(<span class="st">'_'</span>, <span class="dv">1</span>)</span>
<span id="cb45-52"><a href="#cb45-52" aria-hidden="true" tabindex="-1"></a>            prefix_groups[prefix][suffix] <span class="op">=</span> col</span>
<span id="cb45-53"><a href="#cb45-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-54"><a href="#cb45-54" aria-hidden="true" tabindex="-1"></a>    ordered_cols <span class="op">=</span> []</span>
<span id="cb45-55"><a href="#cb45-55" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> sort_mode <span class="op">==</span> <span class="st">'suffix-first'</span>:</span>
<span id="cb45-56"><a href="#cb45-56" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> prefix <span class="kw">in</span> <span class="bu">sorted</span>(prefix_groups):</span>
<span id="cb45-57"><a href="#cb45-57" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> suffix <span class="kw">in</span> order:</span>
<span id="cb45-58"><a href="#cb45-58" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> suffix <span class="kw">in</span> prefix_groups[prefix]:</span>
<span id="cb45-59"><a href="#cb45-59" aria-hidden="true" tabindex="-1"></a>                    ordered_cols.append(prefix_groups[prefix][suffix])</span>
<span id="cb45-60"><a href="#cb45-60" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> sort_mode <span class="op">==</span> <span class="st">'prefix-first'</span>:</span>
<span id="cb45-61"><a href="#cb45-61" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> suffix <span class="kw">in</span> order:</span>
<span id="cb45-62"><a href="#cb45-62" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> prefix <span class="kw">in</span> <span class="bu">sorted</span>(prefix_groups):</span>
<span id="cb45-63"><a href="#cb45-63" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> suffix <span class="kw">in</span> prefix_groups[prefix]:</span>
<span id="cb45-64"><a href="#cb45-64" aria-hidden="true" tabindex="-1"></a>                    ordered_cols.append(prefix_groups[prefix][suffix])</span>
<span id="cb45-65"><a href="#cb45-65" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb45-66"><a href="#cb45-66" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"sort_mode must be 'suffix-first' or 'prefix-first'"</span>)</span>
<span id="cb45-67"><a href="#cb45-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-68"><a href="#cb45-68" aria-hidden="true" tabindex="-1"></a>    merged <span class="op">=</span> merged[ordered_cols]</span>
<span id="cb45-69"><a href="#cb45-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-70"><a href="#cb45-70" aria-hidden="true" tabindex="-1"></a>    <span class="co"># === Step 6. 행 필터링 ===</span></span>
<span id="cb45-71"><a href="#cb45-71" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> row_values <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb45-72"><a href="#cb45-72" aria-hidden="true" tabindex="-1"></a>        merged <span class="op">=</span> merged.loc[merged.index.intersection(row_values)]</span>
<span id="cb45-73"><a href="#cb45-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-74"><a href="#cb45-74" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> merged</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="2f3c3c5b-e812-469f-9f16-f343a67282fd" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 사용 예시</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>merged_ratio_count_table(</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    df,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    group_col<span class="op">=</span><span class="st">'지역'</span>,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    target_col<span class="op">=</span><span class="st">'승강기종류'</span>,</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    row_values<span class="op">=</span>[<span class="st">'서울 강남구'</span>, <span class="st">'경기 화성시'</span>, <span class="st">'경기 평택시'</span>, <span class="st">'서울 서초구'</span>, <span class="st">'제주 제주시'</span>],</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>    col_values<span class="op">=</span>[<span class="st">'승객용'</span>, <span class="st">'장애인용'</span>],</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>    sort_mode<span class="op">=</span><span class="st">'suffix-first'</span>,</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    order<span class="op">=</span>[<span class="st">'비율'</span>, <span class="st">'건수'</span>]</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">승객용_비율</th>
<th data-quarto-table-cell-role="th">승객용_건수</th>
<th data-quarto-table-cell-role="th">장애인용_비율</th>
<th data-quarto-table-cell-role="th">장애인용_건수</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">경기 평택시</td>
<td>0.489138</td>
<td>4796.0</td>
<td>0.265783</td>
<td>2606.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">경기 화성시</td>
<td>0.322071</td>
<td>3565.0</td>
<td>0.282320</td>
<td>3125.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">서울 강남구</td>
<td>0.467715</td>
<td>6244.0</td>
<td>0.255955</td>
<td>3417.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">서울 서초구</td>
<td>0.457364</td>
<td>3717.0</td>
<td>0.260859</td>
<td>2120.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">제주 제주시</td>
<td>0.427400</td>
<td>3126.0</td>
<td>0.421247</td>
<td>3081.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="00fd291a-e791-4c1b-835d-c0b1907fedfa" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 사용 예시</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>merged_ratio_count_table(</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    df,</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    group_col<span class="op">=</span><span class="st">'지역'</span>,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    target_col<span class="op">=</span><span class="st">'승강기종류'</span>,</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>    row_values<span class="op">=</span>[<span class="st">'서울 강남구'</span>, <span class="st">'경기 화성시'</span>, <span class="st">'경기 평택시'</span>, <span class="st">'서울 서초구'</span>, <span class="st">'제주 제주시'</span>],</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    col_values<span class="op">=</span>[<span class="st">'승객용'</span>, <span class="st">'장애인용'</span>],</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>    sort_mode<span class="op">=</span><span class="st">'suffix-first'</span>,</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    order<span class="op">=</span>[<span class="st">'건수'</span>, <span class="st">'비율'</span>]</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">승객용_건수</th>
<th data-quarto-table-cell-role="th">승객용_비율</th>
<th data-quarto-table-cell-role="th">장애인용_건수</th>
<th data-quarto-table-cell-role="th">장애인용_비율</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">경기 평택시</td>
<td>4796.0</td>
<td>0.489138</td>
<td>2606.0</td>
<td>0.265783</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">경기 화성시</td>
<td>3565.0</td>
<td>0.322071</td>
<td>3125.0</td>
<td>0.282320</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">서울 강남구</td>
<td>6244.0</td>
<td>0.467715</td>
<td>3417.0</td>
<td>0.255955</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">서울 서초구</td>
<td>3717.0</td>
<td>0.457364</td>
<td>2120.0</td>
<td>0.260859</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">제주 제주시</td>
<td>3126.0</td>
<td>0.427400</td>
<td>3081.0</td>
<td>0.421247</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="bde0ccdd-01ac-4277-b58b-1c8185ea2aed" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 사용 예시</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>merged_ratio_count_table(</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    df,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    group_col<span class="op">=</span><span class="st">'지역'</span>,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    target_col<span class="op">=</span><span class="st">'승강기종류'</span>,</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    row_values<span class="op">=</span>[<span class="st">'서울 강남구'</span>, <span class="st">'경기 화성시'</span>, <span class="st">'경기 평택시'</span>, <span class="st">'서울 서초구'</span>, <span class="st">'제주 제주시'</span>],</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>    col_values<span class="op">=</span>[<span class="st">'승객용'</span>, <span class="st">'장애인용'</span>],</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>    sort_mode<span class="op">=</span><span class="st">'prefix-first'</span>,</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>    order<span class="op">=</span>[<span class="st">'비율'</span>, <span class="st">'건수'</span>]</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">승객용_비율</th>
<th data-quarto-table-cell-role="th">장애인용_비율</th>
<th data-quarto-table-cell-role="th">승객용_건수</th>
<th data-quarto-table-cell-role="th">장애인용_건수</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">경기 평택시</td>
<td>0.489138</td>
<td>0.265783</td>
<td>4796.0</td>
<td>2606.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">경기 화성시</td>
<td>0.322071</td>
<td>0.282320</td>
<td>3565.0</td>
<td>3125.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">서울 강남구</td>
<td>0.467715</td>
<td>0.255955</td>
<td>6244.0</td>
<td>3417.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">서울 서초구</td>
<td>0.457364</td>
<td>0.260859</td>
<td>3717.0</td>
<td>2120.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">제주 제주시</td>
<td>0.427400</td>
<td>0.421247</td>
<td>3126.0</td>
<td>3081.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="기타-함수-추후-사용" class="level3">
<h3 class="anchored" data-anchor-id="기타-함수-추후-사용">기타 함수 (추후 사용…?)</h3>
<div id="7036f1ca-e0db-43ac-94c3-c61d2e1065fa" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> filter_by_multiple_conditions(df, conditions_dict):</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co">    특정 범주형 변수들에서 선택한 값들만 필터링하는 함수</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters:</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="co">    - df: DataFrame</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="co">    - conditions_dict: {'변수명': [값1, 값2, ...], ...}</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="co">    - 필터링된 DataFrame</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>    condition <span class="op">=</span> pd.Series([<span class="va">True</span>] <span class="op">*</span> <span class="bu">len</span>(df))</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col, values <span class="kw">in</span> conditions_dict.items():</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>        condition <span class="op">&amp;=</span> df[col].isin(values)</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df[condition]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="da5868a4-33df-48fc-adfa-88514fe8c645" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 사용 예시</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>filter_by_multiple_conditions(df, {</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'지역'</span>: [<span class="st">'서울 강남구'</span>, <span class="st">'경기 화성시'</span>, <span class="st">'경기 평택시'</span>, <span class="st">'서울 서초구'</span>, <span class="st">'제주 제주시'</span>],</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'승강기종류'</span>: [<span class="st">'승객용'</span>, <span class="st">'장애인용'</span>]</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">건물명</th>
<th data-quarto-table-cell-role="th">건물층수</th>
<th data-quarto-table-cell-role="th">운행층수</th>
<th data-quarto-table-cell-role="th">승강기종류</th>
<th data-quarto-table-cell-role="th">건물용도(대)</th>
<th data-quarto-table-cell-role="th">정격속도(미터 퍼 세컨드)</th>
<th data-quarto-table-cell-role="th">대수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">135802</td>
<td>경기 평택시</td>
<td>K모텔</td>
<td>5</td>
<td>5.0</td>
<td>승객용</td>
<td>숙박시설</td>
<td>1.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">135803</td>
<td>경기 평택시</td>
<td>(ONE)김상열/고덕동2627-2(이은숙)_R01</td>
<td>3</td>
<td>3.0</td>
<td>승객용</td>
<td>단독주택</td>
<td>1.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">135804</td>
<td>경기 평택시</td>
<td>(메트로카운티)노블시티</td>
<td>6</td>
<td>6.0</td>
<td>승객용</td>
<td>업무시설</td>
<td>1.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">135805</td>
<td>경기 평택시</td>
<td>(메트로카운티)노블시티</td>
<td>6</td>
<td>7.0</td>
<td>승객용</td>
<td>업무시설</td>
<td>1.0</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">135806</td>
<td>경기 평택시</td>
<td>(사)함께하는세상</td>
<td>3</td>
<td>3.0</td>
<td>장애인용</td>
<td>공장</td>
<td>1.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">498695</td>
<td>제주 제주시</td>
<td>힐링하우스</td>
<td>5</td>
<td>5.0</td>
<td>승객용</td>
<td>공동주택</td>
<td>1.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">498696</td>
<td>제주 제주시</td>
<td>힐스위트</td>
<td>4</td>
<td>4.0</td>
<td>장애인용</td>
<td>제2종근린생활시설</td>
<td>1.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">498697</td>
<td>제주 제주시</td>
<td>힐스테이</td>
<td>4</td>
<td>5.0</td>
<td>승객용</td>
<td>공동주택</td>
<td>1.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">498698</td>
<td>제주 제주시</td>
<td>힐이진</td>
<td>5</td>
<td>5.0</td>
<td>장애인용</td>
<td>제1종근린생활시설</td>
<td>1.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">498699</td>
<td>제주 제주시</td>
<td>힐탑아파트</td>
<td>5</td>
<td>5.0</td>
<td>승객용</td>
<td>공동주택</td>
<td>1.0</td>
<td>1</td>
</tr>
</tbody>
</table>

<p>35797 rows × 8 columns</p>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="data-전처리" class="level1">
<h1>3. Data 전처리</h1>
<section id="결측치-처리" class="level2">
<h2 class="anchored" data-anchor-id="결측치-처리">1. 결측치 처리</h2>
<ul>
<li>필요시 할 예정</li>
</ul>
</section>
<section id="이상치-처리" class="level2">
<h2 class="anchored" data-anchor-id="이상치-처리">2. 이상치 처리</h2>
<ul>
<li>필요시 할 예정</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>